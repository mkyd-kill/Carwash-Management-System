{% extends "pages/root.html" %} {% block head %}
<title>Staff</title>
<link rel="stylesheet" href="static/pages/staff.css" />
{% endblock %} {% block content %}
<div class="staffContainer">
  <div class="staffWrapper">
    <div class="staffHeader">
      <div class="leftBar">
        <h2 class="staffTitle">Staff</h2>
        <span class="staffInfo">List of staff</span>
      </div>
      <div class="rightBar">
        <button class="addstaffBtn">
          <span class="addIcon">
            <i class="fa-solid fa-plus"></i>
          </span>
          Add New Staff
        </button>
      </div>
    </div>
    <div class="staffTableWrapper">
      <table class="staffTable">
        <thead>
          <tr>
            <th>#</th>
            <th>Staff ID</th>
            <th>Name</th>
            <th>Role</th>
            <th>Department</th>
            <th>Contact Number</th>
            <th>Commission (KSH)</th>
            <th>Salary (KSH)</th>
            <th>Status</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="staffTableBody"></tbody>
      </table>
    </div>
  </div>
</div>
<section class="addStaff">
  <div class="staffHeader">
    <div class="leftBar">
      <h2 class="staffInfo">Add New Staff</h2>
    </div>
    <div class="rightBar">
      <button class="closeFormBtn">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
  </div>
  <div class="staffForm">
    <form action="{{ url_for('add_new_staff') }}" method="POST">
      <div class="formGrid">
        <div class="staffInput">
          <label for="name">Staff Name</label>
          <input type="text" name="name" id="name" placeholder="Enter staff name" />
        </div>
        <div class="staffInput">
          <label for="gender">Staff Gender</label>
          <select name="gender" id="gender">
            <option value="">Select gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="staffInput">
          <label for="role">Staff Role</label>
          <input type="text" name="role" id="role" placeholder="Enter staff role" />
        </div>
        <div class="staffInput">
          <label for="department">Staff Department</label>
          <input type="text" name="department" id="department" placeholder="Enter department" />
        </div>
        <div class="staffInput">
          <label for="contact">Staff Contact Number</label>
          <input type="tel" name="contact" id="contact" placeholder="Enter contact number" />
        </div>
        <div class="staffInput">
          <label for="commission">Staff Commission (KSH)</label>
          <input type="number" name="commission" id="commission" placeholder="Enter commission amount" />
        </div>
        <div class="staffInput">
          <label for="salary">Staff Salary (KSH)</label>
          <input type="number" name="salary" id="salary" placeholder="Enter salary" />
        </div>
        <div class="staffInput">
          <label for="status">Staff Status</label>
          <select name="status" id="status">
            <option value="">Select status</option>
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
          </select>
        </div>
      </div>
      <button type="submit" class="saveStaffBtn">Save Staff</button>
    </form>
  </div>
</section>
<section class="viewStaffDetails">
  <div class="staff-details-wrapper">
    <!-- Header with Return Button -->
    <div class="header-bar">
      <button class="returnBtn">
        <i class="fa-solid fa-arrow-left"></i> Return to Employees
      </button>
    </div>

    <!-- Main Card Section -->
    <div class="card-container">
      <div class="identity-details">
        <!-- Profile Picture -->
        <div class="avatar">
          <img src="static/img/avatar.jpg" alt="avatar">
        </div>
        <!-- Basic Information -->
        <div class="basic-info">
          <h2 class="staff-name">John Mwangi</h2>
          <p class="staff-role">Cleaner - Washing Department</p>
          <div class="minor-details">
            <div class="detail-item">
              <span>Staff ID:</span>
              <strong>EMP001</strong>
            </div>
            <div class="detail-item">
              <span>Date Hired:</span>
              <strong>2024-11-01 11:30:43</strong>
            </div>
          </div>
        </div>
      </div>

      <!-- Detailed Information -->
      <div class="staff-details">
        <div class="staff-detail">
          <span>National ID:</span>
          <strong>21436587</strong>
        </div>
        <div class="staff-detail">
          <span>Gender:</span>
          <strong>Male</strong>
        </div>
        <div class="staff-detail">
          <span>Contact Number:</span>
          <strong>0712345678</strong>
        </div>
        <div class="staff-detail">
          <span>Commission:</span>
          <strong>Kshs. 200</strong>
        </div>
        <div class="staff-detail">
          <span>Salary:</span>
          <strong>Kshs. 15,000</strong>
        </div>
        <div class="staff-detail">
          <span>Status:</span>
          <strong class="status active">Active</strong>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="actionBtn updateBtn">Update Entry</button>
      <button class="actionBtn deleteBtn">Delete Entry</button>
    </div>
  </div>
</section>
{% endblock %} {% block script %}
<script>
  const staffData = [
    {
      id: 1,
      staffID: "EMP001",
      name: "John Mwangi",
      role: "Cleaner",
      department: "Washing",
      contact: "0712345678",
      commission: 200,
      salary: 15000,
      status: "Active",
    },
    {
      id: 2,
      staffID: "EMP002",
      name: "Jane Wanjiru",
      role: "Cashier",
      department: "Administration",
      contact: "0723456789",
      commission: 0,
      salary: 25000,
      status: "Active",
    },
    {
      id: 3,
      staffID: "EMP003",
      name: "Peter Otieno",
      role: "Supervisor",
      department: "Management",
      contact: "0734567890",
      commission: 500,
      salary: 40000,
      status: "Active",
    },
    {
      id: 4,
      staffID: "EMP004",
      name: "Grace Muthoni",
      role: "Receptionist",
      department: "Customer Service",
      contact: "0745678901",
      commission: 0,
      salary: 20000,
      status: "Active",
    },
    {
      id: 5,
      staffID: "EMP005",
      name: "Samuel Njuguna",
      role: "Technician",
      department: "Maintenance",
      contact: "0756789012",
      commission: 300,
      salary: 30000,
      status: "Active",
    },
    {
      id: 6,
      staffID: "EMP006",
      name: "Diana Njeri",
      role: "Cleaner",
      department: "Washing",
      contact: "0767890123",
      commission: 250,
      salary: 15000,
      status: "On Leave",
    },
    {
      id: 7,
      staffID: "EMP007",
      name: "Brian Ochieng",
      role: "Accountant",
      department: "Finance",
      contact: "0778901234",
      commission: 0,
      salary: 45000,
      status: "Active",
    },
    {
      id: 8,
      staffID: "EMP008",
      name: "Lucy Wambui",
      role: "Car Detailer",
      department: "Washing",
      contact: "0789012345",
      commission: 300,
      salary: 18000,
      status: "Active",
    },
    {
      id: 9,
      staffID: "EMP009",
      name: "George Omondi",
      role: "Security Guard",
      department: "Security",
      contact: "0790123456",
      commission: 0,
      salary: 12000,
      status: "Active",
    },
    {
      id: 10,
      staffID: "EMP010",
      name: "Pauline Akinyi",
      role: "Cleaner",
      department: "Washing",
      contact: "0701234567",
      commission: 200,
      salary: 15000,
      status: "Active",
    },
    {
      id: 11,
      staffID: "EMP011",
      name: "Francis Mwenda",
      role: "Mechanic",
      department: "Maintenance",
      contact: "0712345670",
      commission: 400,
      salary: 35000,
      status: "Active",
    },
    {
      id: 12,
      staffID: "EMP012",
      name: "Sarah Kimani",
      role: "Car Detailer",
      department: "Washing",
      contact: "0723456781",
      commission: 300,
      salary: 18000,
      status: "Active",
    },
    {
      id: 13,
      staffID: "EMP013",
      name: "Kevin Mutua",
      role: "Cleaner",
      department: "Washing",
      contact: "0734567892",
      commission: 200,
      salary: 15000,
      status: "On Leave",
    },
    {
      id: 14,
      staffID: "EMP014",
      name: "Catherine Wanjala",
      role: "Supervisor",
      department: "Washing",
      contact: "0745678903",
      commission: 500,
      salary: 38000,
      status: "Active",
    },
    {
      id: 15,
      staffID: "EMP015",
      name: "Vincent Ndungu",
      role: "Cleaner",
      department: "Washing",
      contact: "0756789014",
      commission: 250,
      salary: 15000,
      status: "Active",
    },
  ];

  const tbody = document.querySelector(".staffTableBody");

  staffData.forEach((staff) => {
    const row = document.createElement("tr");

    row.innerHTML = `
    <td>${staff.id}</td>
    <td>${staff.staffID}</td>
    <td>${staff.name}</td>
    <td>${staff.role}</td>
    <td>${staff.department}</td>
    <td>${staff.contact}</td>
    <td>${staff.commission.toLocaleString()}</td>
    <td>${staff.salary.toLocaleString()}</td>
    <td>${staff.status}</td>
    <td>
      <button class="viewDetail actionBtn editBtn">View</button>
    </td>
  `;
    tbody.appendChild(row);
  });

  // open and close the form
  let service = document.querySelector(".staffContainer");
  let form = document.querySelector(".addStaff");
  let addBtn = document.querySelector(".addstaffBtn");
  let closeBtn = document.querySelector(".closeFormBtn");

  addBtn.addEventListener("click", () => {
    service.style.display = "none";
    form.style.display = "block";
  });

  closeBtn.addEventListener("click", () => {
    form.style.display = "none";
    service.style.display = "block";
  });

  // opening the view staff details section
  let viewBtn = document.querySelector(".viewDetail");
  let staffCardDetails = document.querySelector(".viewStaffDetails");
  let returnBtn = document.querySelector(".returnBtn");

  viewBtn.addEventListener("click", () => {
    service.style.display = "none";
    staffCardDetails.style.display = "block";
  });

  returnBtn.addEventListener("click", () => {
    staffCardDetails.style.display = "none";
    service.style.display = "block";
  });
</script>
{% endblock %}