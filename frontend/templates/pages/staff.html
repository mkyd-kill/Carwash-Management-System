{% extends "pages/root.html" %} {% block head %}
<title>Staff</title>
<link rel="stylesheet" href="static/pages/staff.css" />
{% endblock %} {% block content %}
<div class="staffContainer">
  <div class="staffWrapper">
    <div class="staffHeader">
      <div class="leftBar">
        <h2 class="staffTitle">Staff</h2>
        <span class="staffInfo">List of staff</span>
      </div>
      <div class="rightBar">
        <button class="addstaffBtn">
          <span class="addIcon">
            <i class="fa-solid fa-plus"></i>
          </span>
          Add New Staff
        </button>
      </div>
    </div>
    <div class="staffTableWrapper">
      <table class="staffTable">
        <thead>
          <tr>
            <th>#</th>
            <th>Staff ID</th>
            <th>Name</th>
            <th>Role</th>
            <th>Department</th>
            <th>Contact Number</th>
            <th>Commission (KSH)</th>
            <th>Salary (KSH)</th>
            <th>Status</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="staffTableBody"></tbody>
      </table>
    </div>
  </div>
</div>
<section class="addStaff">
  <div class="staffHeader">
    <div class="leftBar">
      <span class="staffInfo">Add New Staff</span>
    </div>
    <div class="rightBar">
      <button class="closeFormBtn addstaffBtn">
        <span class="addIcon">
          <i class="fa-solid fa-xmark"></i>
        </span>
      </button>
    </div>
  </div>
  <div class="staffForm">
    <form action="{{ url_for('add_new_staff') }}" method="POST">
      <div class="staffInput">
        <span>Staff Name</span>
        <input type="text" name="name" />
      </div>
      <div class="staffInput">
        <span>Staff Gender</span>
        <input type="text" name="gender">
      </div>
      <div class="staffInput">
        <span>Staff Role</span>
        <input type="text" name="role" />
      </div>
      <div class="staffInput">
        <span>Staff Department</span>
        <input type="text" name="department" />
      </div>
      <div class="staffInput">
        <span>Staff Contact Number</span>
        <input type="tel" name="contact" />
      </div>
      <div class="staffInput">
        <span>Staff Commission (KSH)</span>
        <input type="number" name="commission">
      </div>
      <div class="staffInput">
        <span>Staff Salary (KSH)</span>
        <input type="number" name="salary">
      </div>
      <div class="staffInput">
        <span>Staff Status</span>
        <input type="text" name="status" />
      </div>
      <button type="submit" class="addstaffBtn">Save Staff</button>
    </form>
  </div>
</section>
<section class="viewStaffDetails">
  <div class="staff-details-wrapper">
    <div class="rightBar">
      <button class="returnBtn addstaffBtn">
        <span class="addIcon">
          <i class="fa-solid fa-arrow"></i>
        </span>
        Return to Employees
      </button>
    </div>
    <div class="card-details">
      <div class="identity-details">
        <div class="avatar">
          <img src="static/img/avatar.jpg" alt="avatar">
        </div>
        <div class="minor-details">
          <div class="staff-id">
            <span>Staff ID</span>
            <h3>EMP001</h3>
          </div>
          <div class="staff-date-hired">
            <span>Date Hired</span>
            <h4 class="date">2024-11-01 11:30:43</h4>
          </div>
        </div>
      </div>
      <div class="staff-details">
        <div class="staff-detail">
          <span>Name: </span>
          <h2 class="title-name">John Mwangi</h2>
        </div>
        <div class="staff-detail">
          <span>Gender: </span>
          <h2 class="title-name">Male</h2>
        </div>
        <div class="staff-detail">
          <span>National ID: </span>
          <h2 class="title-name">21436587</h2>
        </div>
        <div class="staff-detail">
          <span>Role: </span>
          <h2 class="title-name">Cleaner</h2>
        </div>
        <div class="staff-detail">
          <span>Department: </span>
          <h2 class="title-name">Washing</h2>
        </div>
        <div class="staff-detail">
          <span>Contact Number: </span>
          <h2 class="title-name">0712345678</h2>
        </div>
        <div class="staff-detail">
          <span>Commission: </span>
          <h2 class="title-name">Kshs. 200</h2>
        </div>
        <div class="staff-detail">
          <span>Salary: </span>
          <h2 class="title-name">Kshs. 15,000</h2>
        </div>
        <div class="staff-detail">
          <span>Status: </span>
          <h2 class="title-name">Active</h2>
        </div>
      </div>
    </div>
    <div class="update-delete-btns">
      <div class="updateBtn">
        <button class="actionBtn editBtn">Update Entry</button>
      </div>
      <div class="delete-btn">
        <button class="actionBtn deleteBtn">Delete Entry</button>
      </div>
    </div>
  </div>
</section>
{% endblock %} {% block script %}
<script>
  const staffData = [
    {
      id: 1,
      staffID: "EMP001",
      name: "John Mwangi",
      role: "Cleaner",
      department: "Washing",
      contact: "0712345678",
      commission: 200,
      salary: 15000,
      status: "Active",
    },
    {
      id: 2,
      staffID: "EMP002",
      name: "Jane Wanjiru",
      role: "Cashier",
      department: "Administration",
      contact: "0723456789",
      commission: 0,
      salary: 25000,
      status: "Active",
    },
    {
      id: 3,
      staffID: "EMP003",
      name: "Peter Otieno",
      role: "Supervisor",
      department: "Management",
      contact: "0734567890",
      commission: 500,
      salary: 40000,
      status: "Active",
    },
    {
      id: 4,
      staffID: "EMP004",
      name: "Grace Muthoni",
      role: "Receptionist",
      department: "Customer Service",
      contact: "0745678901",
      commission: 0,
      salary: 20000,
      status: "Active",
    },
    {
      id: 5,
      staffID: "EMP005",
      name: "Samuel Njuguna",
      role: "Technician",
      department: "Maintenance",
      contact: "0756789012",
      commission: 300,
      salary: 30000,
      status: "Active",
    },
    {
      id: 6,
      staffID: "EMP006",
      name: "Diana Njeri",
      role: "Cleaner",
      department: "Washing",
      contact: "0767890123",
      commission: 250,
      salary: 15000,
      status: "On Leave",
    },
    {
      id: 7,
      staffID: "EMP007",
      name: "Brian Ochieng",
      role: "Accountant",
      department: "Finance",
      contact: "0778901234",
      commission: 0,
      salary: 45000,
      status: "Active",
    },
    {
      id: 8,
      staffID: "EMP008",
      name: "Lucy Wambui",
      role: "Car Detailer",
      department: "Washing",
      contact: "0789012345",
      commission: 300,
      salary: 18000,
      status: "Active",
    },
    {
      id: 9,
      staffID: "EMP009",
      name: "George Omondi",
      role: "Security Guard",
      department: "Security",
      contact: "0790123456",
      commission: 0,
      salary: 12000,
      status: "Active",
    },
    {
      id: 10,
      staffID: "EMP010",
      name: "Pauline Akinyi",
      role: "Cleaner",
      department: "Washing",
      contact: "0701234567",
      commission: 200,
      salary: 15000,
      status: "Active",
    },
    {
      id: 11,
      staffID: "EMP011",
      name: "Francis Mwenda",
      role: "Mechanic",
      department: "Maintenance",
      contact: "0712345670",
      commission: 400,
      salary: 35000,
      status: "Active",
    },
    {
      id: 12,
      staffID: "EMP012",
      name: "Sarah Kimani",
      role: "Car Detailer",
      department: "Washing",
      contact: "0723456781",
      commission: 300,
      salary: 18000,
      status: "Active",
    },
    {
      id: 13,
      staffID: "EMP013",
      name: "Kevin Mutua",
      role: "Cleaner",
      department: "Washing",
      contact: "0734567892",
      commission: 200,
      salary: 15000,
      status: "On Leave",
    },
    {
      id: 14,
      staffID: "EMP014",
      name: "Catherine Wanjala",
      role: "Supervisor",
      department: "Washing",
      contact: "0745678903",
      commission: 500,
      salary: 38000,
      status: "Active",
    },
    {
      id: 15,
      staffID: "EMP015",
      name: "Vincent Ndungu",
      role: "Cleaner",
      department: "Washing",
      contact: "0756789014",
      commission: 250,
      salary: 15000,
      status: "Active",
    },
  ];

  const tbody = document.querySelector(".staffTableBody");

  staffData.forEach((staff) => {
    const row = document.createElement("tr");

    row.innerHTML = `
    <td>${staff.id}</td>
    <td>${staff.staffID}</td>
    <td>${staff.name}</td>
    <td>${staff.role}</td>
    <td>${staff.department}</td>
    <td>${staff.contact}</td>
    <td>${staff.commission.toLocaleString()}</td>
    <td>${staff.salary.toLocaleString()}</td>
    <td>${staff.status}</td>
    <td>
      <button class="viewDetail actionBtn editBtn">View</button>
    </td>
  `;
    tbody.appendChild(row);
  });

  // open and close the form
  let service = document.querySelector(".staffContainer");
  let form = document.querySelector(".addStaff");
  let addBtn = document.querySelector(".addstaffBtn");
  let closeBtn = document.querySelector(".closeFormBtn");

  addBtn.addEventListener("click", () => {
    service.style.display = "none";
    form.style.display = "block";
  });

  closeBtn.addEventListener("click", () => {
    form.style.display = "none";
    service.style.display = "block";
  });

  // opening the view staff details section
  let viewBtn = document.querySelector(".viewDetail");
  let staffCardDetails = document.querySelector(".viewStaffDetails");
  let returnBtn = document.querySelector(".returnBtn");

  viewBtn.addEventListener("click", () => {
    service.style.display = "none";
    staffCardDetails.style.display = "block";
  });

  returnBtn.addEventListener("click", () => {
    staffCardDetails.style.display = "none";
    service.style.display = "block";
  });
</script>
{% endblock %}